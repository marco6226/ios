{"version":3,"sources":["webpack:///./src/app/modulos/cop/components/acta-form/acta-form.component.html","webpack:///./src/app/modulos/cop/components/acta-form/acta-form.component.scss","webpack:///./src/app/modulos/cop/components/acta-form/acta-form.component.ts","webpack:///./src/app/modulos/cop/entities/acta.ts","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.module.ts","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.page.html","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.page.scss","webpack:///./src/app/modulos/cop/pages/consulta-actas/consulta-actas.page.ts"],"names":[],"mappings":"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","file":"modulos-cop-pages-consulta-actas-consulta-actas-module.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-button (click)=\\\"salir()\\\">\\r\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Acta</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n    <div *ngIf=\\\"guardando == true\\\" style=\\\"width: 320px; margin:auto; text-align: center;\\\">\\r\\n        <h6>Guardando acta, por favor espere...</h6>\\r\\n        <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n    </div>\\r\\n\\r\\n    <div [style.display]=\\\"guardando != true ? 'block':'none'\\\">\\r\\n        <ion-item>\\r\\n            <ion-label position=\\\"stacked\\\">Nombre del acta*</ion-label>\\r\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{nombre}}</p>\\r\\n            <ion-input *ngIf=\\\"!esConsulta\\\" maxlength=\\\"126\\\" [(ngModel)]=\\\"nombre\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-label position=\\\"stacked\\\">Descripcion</ion-label>\\r\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{descripcion}}</p>\\r\\n            <ion-textarea *ngIf=\\\"!esConsulta\\\" maxlength=\\\"510\\\" [(ngModel)]=\\\"descripcion\\\"></ion-textarea>\\r\\n        </ion-item>\\r\\n        <!-- <ion-item>\\r\\n            <ion-label position=\\\"stacked\\\">Area*</ion-label>\\r\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{area.nombre}}</p>\\r\\n\\r\\n            <div *ngIf=\\\"loading == true\\\">\\r\\n                <ion-spinner slot=\\\"end\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"areasCargadas == false\\\">\\r\\n                <p style=\\\"color:#888;padding:25px\\\">\\r\\n                    No fue posible cargar el listado\\r\\n                    <a *ngIf=\\\"areasCargadas == false\\\" (click)=\\\"cargarAreas()\\\">Reintentar</a>\\r\\n                </p>\\r\\n            </div>\\r\\n            <ion-select [(ngModel)]=\\\"area\\\" [disabled]=\\\"esConsulta\\\" *ngIf=\\\"!esConsulta && areasCargadas == true\\\">\\r\\n                <ion-select-option *ngFor=\\\"let area of areasList\\\" [value]=\\\"area\\\" compareWith=\\\"id\\\">{{area.nombre}}</ion-select-option>\\r\\n            </ion-select>\\r\\n\\r\\n        </ion-item> -->\\r\\n\\r\\n        <sm-areaSelector [areas]=\\\"areasList\\\" [(ngModel)]=\\\"area\\\" [disabled]=\\\"esConsulta\\\" appendTo=\\\"ion-modal\\\"></sm-areaSelector>\\r\\n\\r\\n        <input type=\\\"file\\\" #fileChooser (change)=\\\"onFileSelect(fileChooser.files)\\\" style=\\\"display: none;\\\" />\\r\\n\\r\\n        <ion-button expand=\\\"full\\\" (click)=\\\"openFileChooser()\\\" *ngIf=\\\"!esConsulta\\\">\\r\\n            <ion-icon name=\\\"document\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button expand=\\\"full\\\" (click)=\\\"getPicture()\\\" *ngIf=\\\"!esConsulta\\\">\\r\\n            <ion-icon name=\\\"camera\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n\\r\\n        <ion-item *ngFor=\\\"let doc of archivosList;let idx = index\\\">\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"images\\\" *ngIf=\\\"doc.ext == 'jpg' || doc.ext == 'jpeg' || doc.ext == 'png'\\\"></ion-icon>\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"document\\\" *ngIf=\\\"doc.ext != 'jpg' && doc.ext != 'jpeg' && doc.ext != 'png'\\\"></ion-icon>\\r\\n\\r\\n            <ion-input [(ngModel)]=\\\"doc.alias\\\" *ngIf=\\\"!esConsulta\\\"></ion-input>\\r\\n            <p style=\\\"width: 100%\\\" *ngIf=\\\"esConsulta\\\">{{doc.alias}}</p>\\r\\n\\r\\n            <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"visualizar(doc)\\\">\\r\\n                <ion-icon name=\\\"eye\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n            <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"removerDoc(doc, idx)\\\" *ngIf=\\\"!esConsulta\\\" color=\\\"medium\\\">\\r\\n                <ion-icon name=\\\"close\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-item>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"height: 150px;\\\"></div>\\r\\n    <ion-fab *ngIf=\\\"!guardando && !esConsulta\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n        <ion-fab-button (click)=\\\"guardarActa()\\\" [disabled]=\\\"nombre == null || area == null\\\">\\r\\n            <ion-icon name=\\\"save\\\"></ion-icon>\\r\\n        </ion-fab-button>\\r\\n    </ion-fab>\\r\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvY29wL2NvbXBvbmVudHMvYWN0YS1mb3JtL2FjdGEtZm9ybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModalController, AlertController, LoadingController } from '@ionic/angular';\r\nimport { Area } from '../../../emp/entities/area';\r\nimport { OfflineService } from '../../../com/services/offline.service';\r\nimport { Acta } from '../../entities/acta';\r\nimport { ArchivoLocal } from '../../pages/consulta-actas/consulta-actas.page';\r\nimport { Util } from '../../../com/utils/util';\r\nimport { File as FilePlugin, FileEntry } from '@ionic-native/file/ngx';\r\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\r\n\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\r\nimport { ActaService } from '../../services/acta.service';\r\nimport { DirectorioService } from '../../../ado/services/directorio.service';\r\nimport { StorageService } from '../../../com/services/storage.service';\r\nimport { Directorio } from '../../../ado/entities/directorio';\r\n\r\n@Component({\r\n  selector: 'sm-actaForm',\r\n  templateUrl: './acta-form.component.html',\r\n  styleUrls: ['./acta-form.component.scss'],\r\n  providers: [FileOpener, FilePlugin]\r\n})\r\nexport class ActaFormComponent implements OnInit {\r\n\r\n  options: CameraOptions = {\r\n    quality: 75,\r\n    destinationType: this.camera.DestinationType.FILE_URI,\r\n    encodingType: this.camera.EncodingType.JPEG,\r\n    correctOrientation: true,\r\n    mediaType: this.camera.MediaType.PICTURE,\r\n    targetWidth: 960,\r\n    targetHeight: 960,\r\n  }\r\n\r\n\r\n  @ViewChild('fileChooser') fileChooser: HTMLInputElement;\r\n\r\n  archivosList: ArchivoLocal[];\r\n  nombre: string;\r\n  descripcion: string;\r\n  area: Area;\r\n  esConsulta: boolean;\r\n  guardando: boolean;\r\n  loading: boolean;\r\n  areasCargadas: boolean;\r\n\r\n  areasList: Area[];\r\n\r\n  constructor(\r\n    private loadingController: LoadingController,\r\n    private storageService: StorageService,\r\n    private dirService: DirectorioService,\r\n    private actaService: ActaService,\r\n    private msgService: MensajeUsuarioService,\r\n    private camera: Camera,\r\n    private file: FilePlugin,\r\n    public offlineService: OfflineService,\r\n    public alertController: AlertController,\r\n    public modalController: ModalController,\r\n    private fileOpener: FileOpener,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.modalController.getTop()\r\n      .then(data => {\r\n        if (data.componentProps != null) {\r\n          let acta = (<any>data).componentProps.value\r\n          this.esConsulta = true;\r\n          this.nombre = acta.nombre;\r\n          this.descripcion = acta.descripcion;\r\n          this.area = acta.area;\r\n          acta.documentosList.forEach(doc => {\r\n            if (this.archivosList == null)\r\n              this.archivosList = [];\r\n\r\n            let arch = {\r\n              nombre: doc.nombre,\r\n              ext: Util.getExtension(doc.nombre),\r\n              url: null,\r\n              fechaCreacion: null,\r\n              alias: doc.nombre\r\n            };\r\n            arch['docId'] = doc.id;\r\n            this.archivosList.push(arch);\r\n          });\r\n        } else {\r\n          // this.cargarAreas();\r\n        }\r\n      });\r\n  }\r\n\r\n  // cargarAreas() {\r\n  //   this.loading = true;\r\n  //   this.areasCargadas = null;\r\n  //   this.offlineService.queryArea()\r\n  //     .then(resp => {\r\n  //       this.areasList = <any>resp['data'];\r\n  //       this.loading = false;\r\n  //       this.areasCargadas = true;\r\n  //     })\r\n  //     .catch(err => {\r\n  //       this.loading = false;\r\n  //       this.areasCargadas = false;\r\n  //     });\r\n  // }\r\n\r\n  async salir() {\r\n    if (this.esConsulta) {\r\n      this.modalController.dismiss();\r\n      return;\r\n    }\r\n    const alert = await this.alertController.create({\r\n      header: '¿Desea salir?',\r\n      message: 'El acta no ha sido guardada, los datos serán descartados. ¿Confirma esta acción?',\r\n      buttons: [{\r\n        text: 'Si',\r\n        handler: () => {\r\n          this.modalController.dismiss();\r\n        }\r\n      }, {\r\n        text: 'No',\r\n        role: 'cancel',\r\n        cssClass: 'No'\r\n      }]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  /* ********************** DOCUMENTOS ****************************** */\r\n  openFileChooser() {\r\n    (<any>this.fileChooser).nativeElement.click();\r\n  }\r\n\r\n  onFileSelect(file: FileList) {\r\n    Util.readBlobFile(file.item(0)).then(blob => {\r\n      let f = Util.blobToFile(blob, file.item(0).name);\r\n      this.guardarArchivoLocal(f, f.name);\r\n    });\r\n  }\r\n\r\n  getPicture() {\r\n    this.camera.getPicture(this.options)\r\n      .then(imageData => {\r\n        let pathFile = (<string>imageData);\r\n        let lastIndex = pathFile.lastIndexOf(\"/\");\r\n        let fileName = pathFile.substring(lastIndex + 1, pathFile.length);\r\n\r\n        let url = (<any>window).Ionic.WebView.convertFileSrc(imageData);\r\n        Util.dataURLtoFile(url, fileName).then(\r\n          file => this.guardarArchivoLocal(file, fileName)\r\n        );\r\n      });\r\n  }\r\n\r\n  guardarArchivoLocal(fileParam: File, fileName: string) {\r\n    let dirPath = this.file.dataDirectory;\r\n    this.file.writeFile(dirPath, fileName, fileParam, { replace: true })\r\n      .then(fileEntry => {\r\n        let fe = <FileEntry>fileEntry;\r\n        let dir: ArchivoLocal = {\r\n          nombre: fileName,\r\n          fechaCreacion: new Date(),\r\n          ext: Util.getExtension(fileName),\r\n          url: (<any>window).Ionic.WebView.convertFileSrc(fe.nativeURL),\r\n          alias: fileName.split(\".\")[0]\r\n        };\r\n        if (this.archivosList == null) {\r\n          this.archivosList = [];\r\n        }\r\n        this.archivosList.unshift(dir);\r\n      });\r\n  }\r\n\r\n  visualizar(doc: ArchivoLocal) {\r\n    let filePath = this.file.dataDirectory;\r\n    this.file.checkFile(filePath, doc.nombre)\r\n      .then(exist => {\r\n        return this.file.resolveDirectoryUrl(filePath)\r\n      })\r\n      .then(dirEntry => {\r\n        return this.file.getFile(dirEntry, doc.nombre, null);\r\n      })\r\n      .then(fileEntry => {\r\n        return fileEntry.file(fp => this.openFile(fileEntry, fp.type));\r\n      })\r\n      .catch(err => {\r\n        this.downloadFile(doc['docId'], filePath, doc.nombre);\r\n      });\r\n  }\r\n\r\n  async removerDoc(doc: ArchivoLocal, index: number) {\r\n    const alert = await this.alertController.create({\r\n      header: '¿Retirar documento?',\r\n      message: 'El documento ' + doc.alias + ' será retirado. ¿Confirma esta acción?',\r\n      buttons: [{\r\n        text: 'Si',\r\n        handler: () => {\r\n          let dirPath = this.file.dataDirectory;\r\n          this.archivosList.splice(index, 1);\r\n          this.file.removeFile(dirPath, doc.nombre);\r\n        }\r\n      }, {\r\n        text: 'No',\r\n        role: 'cancel',\r\n        cssClass: 'No'\r\n      }]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  downloadFile(idDocumento: string, workingPath: string, fileName) {\r\n    let loading = this.showLoading('Descargando archivo...');\r\n    this.dirService.download(idDocumento, 'cop')\r\n      .then(resp => {\r\n        var blob = new Blob([<any>resp]);\r\n        return this.file.writeFile(workingPath, fileName, blob, { replace: true });\r\n      })\r\n      .then((fileEntry: FileEntry) => {\r\n        return fileEntry.file(file => loading\r\n          .then(loadPop => {\r\n            loadPop.dismiss();\r\n            this.openFile(fileEntry, file.type);\r\n          })\r\n        )\r\n      })\r\n      .catch(err => {\r\n        loading.then(loadPop => loadPop.dismiss())\r\n      });\r\n  }\r\n\r\n  openFile(fileEntry, type: string) {\r\n    this.fileOpener.open(fileEntry.toURL(), type).catch(\r\n      err => this.msgService.showMessage({\r\n        tipoMensaje: 'info', mensaje: 'No ha sido posible visualizar el archivo',\r\n        detalle: \"No existe una aplicacion para abrir \" + fileEntry.name + \".\"\r\n      })\r\n    )\r\n  }\r\n\r\n  async showLoading(msg: string) {\r\n    const loading = await this.loadingController.create({\r\n      message: msg,\r\n      translucent: true,\r\n    });\r\n    await loading.present();\r\n    return loading;\r\n  }\r\n\r\n  /*************** PERSISTENCIA ************* */\r\n\r\n\r\n\r\n  guardarActa() {\r\n    let acta = new Acta();\r\n    acta.nombre = this.nombre;\r\n    acta.descripcion = this.descripcion;\r\n    acta.area = this.area;\r\n    this.guardando = true;\r\n    this.persistirActa(acta)\r\n      .then(acta => {\r\n        this.guardando = false;\r\n        this.modalController.dismiss(acta).then(\r\n          resp => this.msgService.showMessage({\r\n            tipoMensaje: 'success',\r\n            mensaje: 'ACTA REGISTRADA',\r\n            detalle: 'Se ha registrado correctamente el acta'\r\n          })\r\n        );\r\n      })\r\n      .catch(err => {\r\n        this.guardando = false;\r\n      });\r\n  }\r\n\r\n\r\n  persistirActa(acta: Acta) {\r\n    if (this.offlineService.getOfflineMode()) {\r\n      return new Promise((resolve, reject) => {\r\n        acta['documentos'] = this.archivosList;\r\n        acta.fechaElaboracion = new Date();\r\n        acta['hashId'] = acta.fechaElaboracion.toISOString();\r\n        this.storageService.guardarSyncActaCopasst(acta)\r\n          .then(() => {\r\n            resolve(acta)\r\n          });\r\n      });\r\n    } else {\r\n      return this.actaService.subirActa(acta, this.archivosList);\r\n    }\r\n  }\r\n\r\n}","import { Area } from \"../../emp/entities/area\";\r\nimport { Documento } from \"../../ado/entities/documento\";\r\n\r\n\r\nexport class Acta {\r\n    id: string;\r\n    nombre: string;\r\n    descripcion: string;\r\n    fechaElaboracion: Date;\r\n    area: Area;\r\n    documentosList: Documento[];\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConsultaActasPage } from './consulta-actas.page';\r\nimport { ActaFormComponent } from '../../components/acta-form/acta-form.component'\r\nimport { AreaSelectorModule } from '../../../com/components/area-selector/area-selector.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsultaActasPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    AreaSelectorModule\r\n  ],\r\n  exports: [],\r\n  entryComponents: [ActaFormComponent],\r\n  declarations: [ConsultaActasPage, ActaFormComponent]\r\n})\r\nexport class ConsultaActasPageModule { }\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"navegar('/app/home')\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Actas COPASST</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-item *ngFor=\\\"let acta of actasLocales;let idx = index\\\">\\r\\n\\r\\n    <ion-spinner slot=\\\"end\\\" *ngIf=\\\"acta['sync'] == true\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n    <ion-button *ngIf=\\\"acta['sync'] == null || acta['sync'] == false\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"sincronizar(acta, idx)\\\"\\r\\n      color=\\\"warning\\\">\\r\\n      <ion-icon name=\\\"cloud-upload\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n\\r\\n\\r\\n    <ion-label>\\r\\n      <h2>{{ acta.nombre }}</h2>\\r\\n      <h3>{{ acta.area?.nombre }}</h3>\\r\\n      <p>{{ acta.descripcion }}</p>\\r\\n      <p>--/--/-- --:--</p>\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n\\r\\n  <div *ngIf=\\\"loading == true\\\">\\r\\n    <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"actasCargadas == false\\\">\\r\\n    <p style=\\\"color:#888;padding:25px\\\">\\r\\n      No fue posible cargar las actas.\\r\\n      <a (click)=\\\"cargarActas()\\\">Reintentar</a>\\r\\n    </p>\\r\\n  </div>\\r\\n\\r\\n  <ion-item *ngFor=\\\"let acta of actasList\\\" (click)=\\\"abrirModal(acta)\\\">\\r\\n    <ion-label>\\r\\n      <h2>{{ acta.nombre }}</h2>\\r\\n      <h3>{{ acta.area?.nombre }}</h3>\\r\\n      <p>{{ acta.descripcion }}</p>\\r\\n      <p>{{ acta.fechaElaboracion | date: 'dd/MM/yyyy HH:mm' }}</p>\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  <div style=\\\"height: 75px;\\\"></div>\\r\\n\\r\\n  <ion-fab *ngIf=\\\"loading == false\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button *ngIf=\\\"visibleAdd\\\" (click)=\\\"abrirDlgForm()\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvY29wL3BhZ2VzL2NvbnN1bHRhLWFjdGFzL2NvbnN1bHRhLWFjdGFzLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { Router } from '@angular/router';\r\nimport { Directorio } from '../../../ado/entities/directorio';\r\nimport { OfflineService } from '../../../com/services/offline.service';\r\nimport { DirectorioService } from '../../../ado/services/directorio.service';\r\n\r\nimport { File as FilePlugin, FileEntry } from '@ionic-native/file/ngx';\r\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ActaFormComponent } from '../../components/acta-form/acta-form.component';\r\nimport { FilterQuery } from '../../../com/entities/filter-query';\r\nimport { Acta } from '../../entities/acta';\r\nimport { StorageService } from '../../../com/services/storage.service';\r\nimport { ActaService } from '../../services/acta.service';\r\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\r\n\r\n@Component({\r\n  selector: 'sm-consultaActas',\r\n  templateUrl: './consulta-actas.page.html',\r\n  styleUrls: ['./consulta-actas.page.scss'],\r\n  providers: [\r\n    OfflineService,\r\n    DirectorioService,\r\n    FileOpener,\r\n    FilePlugin,\r\n    Camera,\r\n  ]\r\n})\r\nexport class ConsultaActasPage implements OnInit {\r\n\r\n  options: CameraOptions = {\r\n    quality: 75,\r\n    destinationType: this.camera.DestinationType.FILE_URI,\r\n    encodingType: this.camera.EncodingType.JPEG,\r\n    correctOrientation: true,\r\n    mediaType: this.camera.MediaType.PICTURE,\r\n    targetWidth: 960,\r\n    targetHeight: 960,\r\n  }\r\n\r\n  actasList: Acta[];\r\n  actasLocales: Acta[];\r\n  loading: boolean;\r\n  actasCargadas: boolean;\r\n\r\n  visibleAdd: boolean;\r\n\r\n  constructor(\r\n    private msgService: MensajeUsuarioService,\r\n    private actaService: ActaService,\r\n    private storageService: StorageService,\r\n    private modalController: ModalController,\r\n    private camera: Camera,\r\n    public offlineService: OfflineService,\r\n    private router: Router,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    let permMap: any = this.offlineService.sessionService.getPermisosMap();\r\n    this.visibleAdd = (permMap['COP_POST_ACT'] != null && permMap['COP_POST_ACT'].valido == true) && (permMap['COP_POST_DOCACT'] != null && permMap['COP_POST_DOCACT'].valido == true);\r\n    this.storageService.getSyncActasCopasst()\r\n      .then(resp => {\r\n        this.actasLocales = resp['data']\r\n      });\r\n    this.cargarActas();\r\n  }\r\n\r\n  cargarActas() {\r\n    this.loading = true;\r\n    this.actasCargadas = null;\r\n    this.offlineService.queryActasCopasst()\r\n      .then(resp => {\r\n        this.actasList = [];\r\n        (<any[]>resp['data']).forEach(dto => {\r\n          this.actasList.push(FilterQuery.dtoToObject(dto));\r\n        });\r\n        this.loading = false;\r\n        this.actasCargadas = true;\r\n      })\r\n      .catch(err => {\r\n        this.loading = false;\r\n        this.actasCargadas = false;\r\n      });\r\n  }\r\n\r\n  async abrirDlgForm() {\r\n    const modal = await this.modalController.create({\r\n      component: ActaFormComponent,\r\n      cssClass: \"modal-fullscreen\"\r\n    });\r\n    modal.onDidDismiss().then(\r\n      resp => this.onModalDismiss(<Acta>resp.data)\r\n    );\r\n    return await modal.present();\r\n  }\r\n\r\n  onModalDismiss(acta: Acta) {\r\n    if (acta == null) {\r\n      return;\r\n    }\r\n    if (acta.id == null) {\r\n      this.actasLocales.unshift(acta);\r\n    } else {\r\n      this.actasList.unshift(acta);\r\n    }\r\n  }\r\n\r\n  async abrirModal(acta) {\r\n    const modal = await this.modalController.create({\r\n      component: ActaFormComponent,\r\n      componentProps: { value: acta },\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  navegar(url) {\r\n    this.router.navigate([url])\r\n  }\r\n\r\n  sincronizar(acta: Acta, idx: number) {\r\n    acta['sync'] = true;\r\n    this.actaService.subirActa(acta, acta['documentos'])\r\n      .then((resp: Acta) => {\r\n        acta['sync'] = false;\r\n        // Retira del listado de actas por sincronizar\r\n        this.actasLocales.splice(idx, 1);\r\n        this.storageService.borrarSyncActasCopasst(acta);\r\n        // Adiciona el acta al listado de actas creadas y si está en modo offline la adiciona en el espacio local\r\n        this.actasList.unshift(resp);\r\n        if (this.offlineService.getOfflineMode())\r\n          this.storageService.setActasCopasst([resp]);\r\n        // Despliega mensaje de confirmación\r\n        this.msgService.showMessage({\r\n          tipoMensaje: 'success', mensaje: 'ACTA SINCRONIZADA',\r\n          detalle: \"Se ha sincronizado correctamente el acta  \" + acta.nombre\r\n        });\r\n      })\r\n      .catch(err => {\r\n        acta['sync'] = false;\r\n      });\r\n  }\r\n}\r\n\r\n\r\n\r\nexport interface ArchivoLocal {\r\n  documentoId?: string;\r\n  nombre: string,\r\n  fechaCreacion: Date,\r\n  ext: string,\r\n  url: string,\r\n  alias?: string;\r\n  descripcion?: string;\r\n}"],"sourceRoot":""}