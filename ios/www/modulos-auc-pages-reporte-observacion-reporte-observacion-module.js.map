{"version":3,"sources":["webpack:///./src/app/modulos/auc/components/observacion-form/observacion-form.component.html","webpack:///./src/app/modulos/auc/components/observacion-form/observacion-form.component.scss","webpack:///./src/app/modulos/auc/components/observacion-form/observacion-form.component.ts","webpack:///./src/app/modulos/auc/components/observaciones-sync/observacion-sync.component.html","webpack:///./src/app/modulos/auc/components/observaciones-sync/observacion-sync.component.scss","webpack:///./src/app/modulos/auc/components/observaciones-sync/observacion-sync.component.ts","webpack:///./src/app/modulos/auc/entities/observacion.ts","webpack:///./src/app/modulos/auc/entities/tarjeta.ts","webpack:///./src/app/modulos/auc/pages/reporte-observacion/reporte-observacion.module.ts","webpack:///./src/app/modulos/auc/pages/reporte-observacion/reporte-observacion.page.html","webpack:///./src/app/modulos/auc/pages/reporte-observacion/reporte-observacion.page.scss","webpack:///./src/app/modulos/auc/pages/reporte-observacion/reporte-observacion.page.ts","webpack:///./src/app/modulos/auc/services/observacion.service.ts"],"names":[],"mappings":"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","file":"modulos-auc-pages-reporte-observacion-reporte-observacion-module.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"anterior()\\\" [disabled]=\\\"guardando == true\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{tarjeta?.nombre}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div *ngIf=\\\"guardando == true\\\" style=\\\"width: 320px; margin:auto; text-align: center;\\\">\\r\\n    <h6>Guardando observación, por favor espere...</h6>\\r\\n    <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n  </div>\\r\\n\\r\\n  <div [style.display]=\\\"guardando != true ? 'block':'none'\\\">\\r\\n    <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" value=\\\"observ\\\">\\r\\n      <ion-segment-button value=\\\"observ\\\">\\r\\n        <ion-label>Reporte</ion-label>\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button value=\\\"detalle\\\" *ngIf=\\\"tarjeta?.usarNivelRiesgo || tarjeta?.usarCausaRaiz\\\">\\r\\n        <ion-label>\\r\\n          <ion-label>Detalle</ion-label>\\r\\n        </ion-label>\\r\\n      </ion-segment-button>\\r\\n    </ion-segment>\\r\\n\\r\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n      <ion-card [style.display]=\\\"segments['observ'] ? 'block':'none'\\\">\\r\\n        <ion-button color=\\\"primary\\\" fill=\\\"outline\\\" expand=\\\"block\\\" (click)=\\\"getPicture()\\\" *sTienePermiso=\\\"['ADO_POST_DOCSUP']\\\">\\r\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"camera\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n\\r\\n        <ion-slides pager=\\\"true\\\">\\r\\n          <ion-slide *ngFor=\\\"let img of imagenes;let i = index\\\">\\r\\n            <div>\\r\\n              <div class=\\\"img-toolbar\\\">\\r\\n                <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" color=\\\"medium\\\" (click)=\\\"presentRemoveImg(i)\\\">\\r\\n                  <ion-icon name=\\\"close\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n              </div>\\r\\n              <img [src]=\\\"img | safeBypass:'resourceUrl'\\\" />\\r\\n            </div>\\r\\n          </ion-slide>\\r\\n        </ion-slides>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Tipo de observacion*</ion-label>\\r\\n          <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" formControlName=\\\"tipoObservacion\\\">\\r\\n            <ion-select-option *ngFor=\\\"let to of tarjeta?.campos.tipo_observacion\\\" [value]=\\\"to.label\\\">{{to.label}}\\r\\n            </ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Descripción*</ion-label>\\r\\n          <ion-textarea formControlName=\\\"descripcion\\\" maxlength=\\\"510\\\"></ion-textarea>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Afecta:</ion-label>\\r\\n          <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" formControlName=\\\"afecta\\\" multiple=\\\"true\\\">\\r\\n            <ion-select-option *ngFor=\\\"let a of tarjeta?.campos.afecta\\\" [value]=\\\"to\\\">{{a.label}}</ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Recomendación:</ion-label>\\r\\n          <ion-textarea formControlName=\\\"recomendacion\\\" maxlength=\\\"510\\\"></ion-textarea>\\r\\n        </ion-item>\\r\\n\\r\\n        <sm-areaSelector formControlName=\\\"area\\\" [disabled]=\\\"guardando == true\\\" appendTo=\\\"ion-modal\\\"></sm-areaSelector>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Implicación</ion-label>\\r\\n          <sm-tree [nodes]=\\\"tarjeta?.implicacionList\\\" field=\\\"implicacionList\\\" label=\\\"nombre\\\" [expanded]=\\\"true\\\"></sm-tree>\\r\\n        </ion-item>\\r\\n\\r\\n      </ion-card>\\r\\n\\r\\n      <ion-card [style.display]=\\\"segments['detalle'] ? 'block':'none'\\\" *ngIf=\\\"tarjeta?.usarNivelRiesgo || tarjeta?.usarCausaRaiz\\\">\\r\\n        <ion-item *ngIf=\\\"tarjeta?.usarCausaRaiz\\\">\\r\\n          <ion-label position=\\\"stacked\\\">Causa raíz:</ion-label>\\r\\n          <sm-tree [nodes]=\\\"sistemaCausaRaiz?.causaRaizList\\\" field=\\\"causaRaizList\\\" label=\\\"nombre\\\" [expanded]=\\\"true\\\">\\r\\n          </sm-tree>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item *ngIf=\\\"tarjeta?.usarNivelRiesgo\\\">\\r\\n          <ion-label position=\\\"stacked\\\">Nivel de riesgo:</ion-label>\\r\\n          <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" formControlName=\\\"nivelRiesgo\\\">\\r\\n            <ion-select-option *ngFor=\\\"let nr of sistemaNivelRiesgo?.nivelRiesgoList\\\" [value]=\\\"nr\\\">{{nr.nombre}} - {{nr.descripcion}}\\r\\n            </ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n      </ion-card>\\r\\n    </form>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div style=\\\"height: 150px;\\\"></div>\\r\\n  <ion-fab *ngIf=\\\"!guardando\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button (click)=\\\"guardarObservacion()\\\" [disabled]=\\\"!form.valid\\\">\\r\\n      <ion-icon name=\\\"save\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n</ion-content>\"","module.exports = \"sm-tree {\\n  position: relative;\\n  left: -1em;\\n  width: 100%; }\\n\\nsm-autocomplete {\\n  width: 100%;\\n  z-index: 10; }\\n\\n.img-toolbar {\\n  height: 50px; }\\n\\n.img-toolbar ion-button {\\n  float: right; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxvcy9hdWMvY29tcG9uZW50cy9vYnNlcnZhY2lvbi1mb3JtL0M6XFxVc2Vyc1xcREVMTFxcRG93bmxvYWRzXFxvcmlnaW5hbFxcYXBwbGVvbmFyZG9cXGFwcC9zcmNcXGFwcFxcbW9kdWxvc1xcYXVjXFxjb21wb25lbnRzXFxvYnNlcnZhY2lvbi1mb3JtXFxvYnNlcnZhY2lvbi1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixXQUFXLEVBQUE7O0FBR2Y7RUFDSSxXQUFXO0VBQ1gsV0FBVyxFQUFBOztBQUdmO0VBQ0ksWUFBWSxFQUFBOztBQUdoQjtFQUNJLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvYXVjL2NvbXBvbmVudHMvb2JzZXJ2YWNpb24tZm9ybS9vYnNlcnZhY2lvbi1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsic20tdHJlZXtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGxlZnQ6IC0xZW07XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuc20tYXV0b2NvbXBsZXRle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB6LWluZGV4OiAxMDtcclxufVxyXG5cclxuLmltZy10b29sYmFye1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG59XHJcblxyXG4uaW1nLXRvb2xiYXIgaW9uLWJ1dHRvbntcclxuICAgIGZsb2F0OiByaWdodDtcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup, FormControl } from '@angular/forms';\r\nimport { ModalController, AlertController } from '@ionic/angular';\r\nimport { Tarjeta } from '../../entities/tarjeta';\r\nimport { SistemaNivelRiesgo } from '../../../com/entities/sistema-nivel-riesgo';\r\nimport { SistemaCausaRaiz } from '../../../sec/entities/sistema-causa-raiz';\r\nimport { SistemaCausaRaizService } from '../../../sec/services/sistema-causa-raiz.service';\r\nimport { Area } from '../../../emp/entities/area';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { Observacion } from '../../entities/observacion';\r\nimport { ObservacionService } from '../../services/observacion.service';\r\nimport { DirectorioService } from '../../../ado/services/directorio.service';\r\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service'\r\nimport { OfflineService } from '../../../com/services/offline.service';\r\nimport { Util } from '../../../com/utils/util';\r\nimport { StorageService } from '../../../com/services/storage.service';\r\n\r\n@Component({\r\n  selector: 'app-observacion-form',\r\n  templateUrl: './observacion-form.component.html',\r\n  styleUrls: ['./observacion-form.component.scss'],\r\n  providers: [SistemaCausaRaizService, Camera, ObservacionService, DirectorioService]\r\n})\r\nexport class ObservacionFormComponent implements OnInit {\r\n\r\n  segments = { 'detalle': false, 'observ': true };\r\n  tarjeta: Tarjeta;\r\n  form: FormGroup;\r\n  sistemaNivelRiesgo: SistemaNivelRiesgo;\r\n  sistemaCausaRaiz: SistemaCausaRaiz;\r\n  areasList: Area[];\r\n  imagenes: any[] = [];\r\n\r\n  options: CameraOptions = {\r\n    quality: 75,\r\n    destinationType: this.camera.DestinationType.FILE_URI,\r\n    encodingType: this.camera.EncodingType.JPEG,\r\n    correctOrientation: true,\r\n    mediaType: this.camera.MediaType.PICTURE,\r\n    targetWidth: 960,\r\n    targetHeight: 960,\r\n  }\r\n\r\n  guardando: boolean;\r\n  loading: boolean;\r\n  areasCargadas: boolean;\r\n\r\n  constructor(\r\n    public storageService: StorageService,\r\n    public alertController: AlertController,\r\n    private mensajeUsuarioService: MensajeUsuarioService,\r\n    private directorioService: DirectorioService,\r\n    private observacionService: ObservacionService,\r\n    private camera: Camera,\r\n    private offlineService: OfflineService,\r\n    public fb: FormBuilder,\r\n    public modalController: ModalController,\r\n  ) {\r\n    this.form = fb.group({\r\n      id: null,\r\n      tipoObservacion: [null, Validators.required],\r\n      afecta: null,\r\n      descripcion: [null, Validators.required],\r\n      recomendacion: null,\r\n      nivelRiesgo: null,\r\n      causaRaiz: null,\r\n      area: [null, Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.modalController.getTop().then(data => {\r\n      let tarjeta = (<any>data).componentProps.value;\r\n      this.tarjeta = JSON.parse(JSON.stringify(tarjeta));\r\n      this.tarjeta.campos = JSON.parse(this.tarjeta.campos);\r\n\r\n      if (this.tarjeta.usarCausaRaiz) {\r\n        this.offlineService.querySistemaCausaRaiz().then(\r\n          data => this.sistemaCausaRaiz = (<SistemaCausaRaiz>data)\r\n        );\r\n      }\r\n      if (this.tarjeta.usarNivelRiesgo) {\r\n        this.offlineService.querySistemaNivelRiesgo().then(\r\n          data => this.sistemaNivelRiesgo = (<SistemaNivelRiesgo>data['data'][0])\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  anterior() {\r\n    this.presentAlertaSalir();\r\n  }\r\n\r\n  async presentAlertaSalir() {\r\n    const alert = await this.alertController.create({\r\n      header: '¿Desea salir?',\r\n      message: 'La observación no ha sido guardada, los datos serán descartados. ¿Confirma esta acción?',\r\n      buttons: [{\r\n        text: 'Si',\r\n        handler: () => {\r\n          this.modalController.dismiss();\r\n        }\r\n      }, {\r\n        text: 'No',\r\n        role: 'cancel',\r\n        cssClass: 'No'\r\n      }]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  getPicture() {\r\n    this.camera.getPicture(this.options).then(imageData => {\r\n      let imgUrl = (<any>window).Ionic.WebView.convertFileSrc(imageData);\r\n      this.imagenes.push(imgUrl);\r\n      this.imagenes = this.imagenes.slice();\r\n    }).catch(error => {\r\n      console.error(error);\r\n    });\r\n  }\r\n\r\n  buildList(field: string, tree: any[], list: any[]) {\r\n    tree.forEach(node => {\r\n      if (node[field] != null && node[field].length > 0) {\r\n        this.buildList(field, node[field], list);\r\n      }\r\n      if (node['selected'] == true) {\r\n        list.push({ id: node.id });\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n  }\r\n\r\n  guardarObservacion() {\r\n    let observacion = new Observacion();\r\n    observacion.tipoObservacion = this.form.value.tipoObservacion;\r\n    observacion.descripcion = this.form.value.descripcion;\r\n\r\n    let implicacionList = [];\r\n    this.buildList('implicacionList', this.tarjeta.implicacionList, implicacionList);\r\n    observacion.implicacionList = implicacionList;\r\n\r\n    observacion.area = this.form.value.area;\r\n    observacion.afecta = this.form.value.afecta;\r\n    observacion.recomendacion = this.form.value.recomendacion;\r\n\r\n    let causaRaizList = [];\r\n    if (this.sistemaCausaRaiz != null && this.sistemaCausaRaiz.causaRaizList.length > 0)\r\n      this.buildList('causaRaizList', this.sistemaCausaRaiz.causaRaizList, causaRaizList);\r\n    observacion.causaRaizList = causaRaizList;\r\n\r\n    observacion.nivelRiesgo = this.form.value.nivelRiesgo;\r\n    observacion.tarjeta = new Tarjeta();\r\n    observacion.tarjeta.id = this.tarjeta.id;\r\n    observacion.tarjeta.nombre = this.tarjeta.nombre;\r\n    this.guardando = true;\r\n    this.persistirObservacion(observacion)\r\n      .then(resp => {\r\n        this.manageResponse(resp);\r\n        this.guardando = false;\r\n      })\r\n      .catch(err => {\r\n        this.guardando = false;\r\n      });\r\n  }\r\n\r\n  persistirObservacion(observacion: Observacion): Promise<any> {\r\n    if (this.offlineService.getOfflineMode()) {\r\n      return new Promise((resolve, reject) => {\r\n        observacion['imagenes'] = this.imagenes;\r\n        observacion.fechaObservacion = new Date();\r\n        observacion['hashId'] = observacion.fechaObservacion.toISOString();\r\n        this.storageService.guardarSyncObservacion(observacion);\r\n        resolve(observacion);\r\n      });\r\n    } else {\r\n      return this.observacionService.create(observacion).then(data => {\r\n        observacion.id = (<Observacion>data).id;\r\n        let cod = 1;\r\n        this.imagenes.forEach(url => {\r\n          Util.dataURLtoFile(url, 'img_' + cod + '_obs_' + observacion.id + '.jpeg').then(\r\n            file => this.directorioService.upload(file, null, 'AUC', observacion.id)\r\n          );\r\n          cod++;\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  manageResponse(observacion: Observacion) {\r\n    this.modalController.dismiss(observacion).then(\r\n      resp => this.mensajeUsuarioService.showMessage({\r\n        tipoMensaje: 'success',\r\n        mensaje: 'OBSERVACIÓN REALIZADA',\r\n        detalle: 'Se ha registrado correctamente la observación'\r\n      })\r\n    );\r\n  }\r\n\r\n  segmentChanged(event) {\r\n    for (var seg in this.segments) {\r\n      this.segments[seg] = false;\r\n      if (event.detail.value == seg)\r\n        this.segments[seg] = true;\r\n\r\n    }\r\n  }\r\n\r\n  async presentRemoveImg(index: number) {\r\n    const alert = await this.alertController.create({\r\n      header: '¿Desea remover la fotografía?',\r\n      message: 'La fotografía será eliminada. ¿Confirma esta acción?',\r\n      buttons: [{\r\n        text: 'Si',\r\n        handler: () => this.removerImg(index)\r\n      }, {\r\n        text: 'No',\r\n        role: 'cancel',\r\n        cssClass: 'No'\r\n      }]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  removerImg(index: number) {\r\n    let imgsAux = this.imagenes.slice();\r\n    imgsAux.splice(index, 1);\r\n    this.imagenes = null;\r\n    setTimeout(() => {\r\n      this.imagenes = imgsAux;\r\n    }, 50);\r\n  }\r\n}\r\n","module.exports = \"<ion-card *ngFor=\\\"let obs of obserList; let i = index\\\">\\r\\n    <ion-item>\\r\\n        <ion-button *ngIf=\\\"obs['sync'] == null || obs['sync'] == false\\\" fill=\\\"outline\\\" (click)=\\\"sincronizar(obs, i)\\\">\\r\\n            {{obs.fechaObservacion | date:'dd/MM/yyyy HH:mm'}}\\r\\n        </ion-button>\\r\\n\\r\\n        <ion-spinner *ngIf=\\\"obs['sync'] == true\\\" class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n\\r\\n        <ion-button *ngIf=\\\"obs['sync'] == null || obs['sync'] == false\\\" fill=\\\"clear\\\" slot=\\\"end\\\" (click)=\\\"presentAlertConfirm(obs, i)\\\"\\r\\n            color=\\\"medium\\\">\\r\\n            <ion-icon name=\\\"close\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n    </ion-item>\\r\\n    <ion-card-header>\\r\\n        <ion-label>{{obs.tarjeta.nombre}}</ion-label>\\r\\n        <ion-card-subtitle>\\r\\n            {{obs.area.nombre}}\\r\\n        </ion-card-subtitle>\\r\\n        <ion-card-subtitle>\\r\\n            {{obs.tipoObservacion}}\\r\\n        </ion-card-subtitle>\\r\\n        <ion-card-subtitle>\\r\\n            {{obs.descripcion}}\\r\\n        </ion-card-subtitle>\\r\\n    </ion-card-header>\\r\\n</ion-card>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvYXVjL2NvbXBvbmVudHMvb2JzZXJ2YWNpb25lcy1zeW5jL29ic2VydmFjaW9uLXN5bmMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Observacion } from '../../entities/observacion';\r\n// import { asyncLocalStorage, Util } from '../../../com/utils/util';\r\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\r\nimport { DirectorioService } from '../../../ado/services/directorio.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ObservacionService } from '../../services/observacion.service';\r\nimport { StorageService } from '../../../com/services/storage.service';\r\nimport { Util } from '../../../com/utils/util';\r\n\r\n@Component({\r\n  selector: 'sm-observacionSync',\r\n  templateUrl: './observacion-sync.component.html',\r\n  styleUrls: ['./observacion-sync.component.scss'],\r\n  providers: [ObservacionService]\r\n})\r\nexport class ObservacionSyncComponent implements OnInit {\r\n\r\n  obserList: Observacion[];\r\n  @Output('onEvent') onEvent = new EventEmitter<any>();\r\n\r\n\r\n  constructor(\r\n    public storageService: StorageService,\r\n    public msgService: MensajeUsuarioService,\r\n    public dirService: DirectorioService,\r\n    public alertController: AlertController,\r\n    public obserService: ObservacionService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.storageService.getSyncObservaciones()\r\n      .then((resp: any) => {\r\n        this.onEvent.emit({ type: 'onLoad', count: resp.count });\r\n        this.obserList = resp.data;\r\n      });\r\n  }\r\n\r\n  adicionarObservacion(obser: Observacion): any {\r\n    if (this.obserList == null)\r\n      this.obserList = [];\r\n    this.obserList.push(obser);\r\n    this.obserList = this.obserList.slice();\r\n  }\r\n\r\n  borrarObservacion(observ: Observacion, indice: number, emitEvent?: boolean) {\r\n    this.storageService.borrarSyncObservacion(observ);    \r\n    this.obserList.splice(indice, 1);\r\n    this.obserList = this.obserList.slice();\r\n    if (emitEvent)\r\n      this.onEvent.emit({ type: 'onLocalRemove', count: this.obserList.length, inspeccion: observ });\r\n  }\r\n\r\n  async presentAlertConfirm(obser: Observacion, index: number) {\r\n    const alert = await this.alertController.create({\r\n      header: '¿Eliminar observación?',\r\n      message: 'Esto borrará de su entorno local la observación y no podrá sincronizarla. ¿Confirma esta acción?',\r\n      buttons: [{\r\n        text: 'Si',\r\n        handler: () => {\r\n          this.borrarObservacion(obser, index, true);\r\n          this.msgService.showMessage({ tipoMensaje: 'info', mensaje: 'Observación eliminada de entorno local', detalle: '' });\r\n        }\r\n      }, {\r\n        text: 'No',\r\n        role: 'cancel',\r\n        cssClass: 'No'\r\n      }]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  sincronizar(obser: Observacion, indice: number) {\r\n    obser['sync'] = true;\r\n    this.obserService.create(obser)\r\n      .then(obsResp => {\r\n        if (obser['imagenes'] != null) {\r\n          for (let i = 0; i < obser['imagenes'].length; i++) {\r\n            let img = obser['imagenes'][i];\r\n            if (img != null)\r\n              Util.dataURLtoFile(img, 'img_' + i + '_obs_' + obsResp['id'] + '.jpeg').then(file =>\r\n                this.dirService.upload(file, null, 'AUC', obsResp['id'])\r\n              );\r\n          }\r\n        }\r\n\r\n        this.borrarObservacion(obser, indice);\r\n        obser['sync'] = false;\r\n\r\n        this.msgService.showMessage({\r\n          tipoMensaje: 'success',\r\n          mensaje: 'Observación sincronizada',\r\n          detalle: 'La observación ha sido sincronizada correctamente'\r\n        });\r\n        this.onEvent.emit({ type: 'onSync', observacion: obsResp, count: this.obserList.length });\r\n      })\r\n      .catch(err => {\r\n        obser['sync'] = false;\r\n      });\r\n  }\r\n}\r\n","\r\nimport { Tarjeta } from './tarjeta'\r\nimport { Implicacion } from './implicacion'\r\nimport { Area } from '../../emp/entities/area'\r\nimport { CausaRaiz } from '../../sec/entities/causa-raiz';\r\nimport { Usuario } from '../../emp/entities/usuario';\r\n\r\nexport class Observacion {\r\n  id: string;\r\n  tipoObservacion: string;\r\n  afecta: string[];\r\n  descripcion: string;\r\n  recomendacion: string;\r\n  nivelRiesgo: string;\r\n  fechaObservacion: Date;\r\n  aceptada: Boolean;\r\n  motivo: string;\r\n  fechaRespuesta: Date;\r\n  area: Area;\r\n  implicacionList: Implicacion[];\r\n  causaRaizList: CausaRaiz[];\r\n  causaRaizAprobadaList: CausaRaiz[];\r\n  tarjeta: Tarjeta;\r\n  usuarioReporta: Usuario;\r\n  usuarioRevisa: Usuario;\r\n}","\r\nimport { Implicacion } from './implicacion'\r\n\r\nexport class Tarjeta {\r\n  id: string;\r\n  codigo: string;\r\n  nombre: string;\r\n  descripcion: string;\r\n  campos: any;\r\n  implicacionList: Implicacion[];\r\n  usarNivelRiesgo:boolean;\r\n  usarCausaRaiz:boolean;\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ReporteObservacionPage } from './reporte-observacion.page';\r\nimport { ObservacionFormComponent } from '../../components/observacion-form/observacion-form.component';\r\nimport { TreeModule } from '../../../com/components/tree/tree.component'\r\nimport { ComunModule } from '../../../com/comun.module';\r\nimport { ObservacionSyncComponent } from '../../components/observaciones-sync/observacion-sync.component';\r\nimport { AreaSelectorModule } from '../../../com/components/area-selector/area-selector.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReporteObservacionPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    ComunModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    TreeModule,\r\n    RouterModule.forChild(routes),\r\n    AreaSelectorModule\r\n  ],\r\n  exports: [ComunModule],\r\n  entryComponents: [ObservacionFormComponent],\r\n  declarations: [ReporteObservacionPage, ObservacionFormComponent, ObservacionSyncComponent]\r\n})\r\nexport class ReporteObservacionPageModule { }\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"navegar('/app/home')\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{nombreAuc}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" value=\\\"tarjeta\\\">\\r\\n    <ion-segment-button value=\\\"tarjeta\\\">\\r\\n      <ion-label>Tarjetas</ion-label>\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"observ\\\">\\r\\n      <ion-label>\\r\\n        Sincronizar\\r\\n        <ion-badge *ngIf=\\\"obsCount > 0\\\" color=\\\"warning\\\">{{obsCount}}</ion-badge>\\r\\n      </ion-label>\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n\\r\\n  <sm-observacionSync [style.display]=\\\"segments['observ'] ? 'block':'none'\\\" #obserSyncComp (onEvent)=\\\"onEvent($event)\\\"></sm-observacionSync>\\r\\n\\r\\n  <div [style.display]=\\\"segments['tarjeta'] ? 'block':'none'\\\">\\r\\n\\r\\n    <div *ngIf=\\\"loading == true\\\">\\r\\n      <ion-spinner class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"tarjetasCargadas == false\\\">\\r\\n      <p style=\\\"color:#888;padding:25px\\\">\\r\\n        No fue posible cargar las tarjetas de observación.\\r\\n        <a (click)=\\\"cargarTarjetas()\\\">Reintentar</a>\\r\\n      </p>\\r\\n    </div>\\r\\n\\r\\n    <ion-card *ngFor=\\\"let tarjeta of tarjetaList\\\">\\r\\n      <ion-item>\\r\\n        <ion-label>{{tarjeta.nombre}}</ion-label>\\r\\n        <ion-button fill=\\\"outline\\\" slot=\\\"end\\\" (click)=\\\"onTarjetaSelect(tarjeta)\\\" *sTienePermiso=\\\"['EMP_GET_AREA', 'SEC_GET_SCRDEF']\\\">Registrar</ion-button>\\r\\n      </ion-item>\\r\\n      <ion-card-content>\\r\\n        <p>{{tarjeta.codigo}} </p>\\r\\n        <p>{{tarjeta.descripcion}} </p>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n  </div>\\r\\n\\r\\n\\r\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3MvYXVjL3BhZ2VzL3JlcG9ydGUtb2JzZXJ2YWNpb24vcmVwb3J0ZS1vYnNlcnZhY2lvbi5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Tarjeta } from '../../entities/tarjeta';\r\nimport { ObservacionFormComponent } from '../../components/observacion-form/observacion-form.component'\r\nimport { Router } from '@angular/router';\r\nimport { OfflineService } from '../../../com/services/offline.service';\r\nimport { Observacion } from '../../entities/observacion';\r\nimport { ObservacionSyncComponent } from '../../components/observaciones-sync/observacion-sync.component';\r\nimport { SesionService } from '../../../com/services/sesion.service';\r\n\r\n@Component({\r\n  selector: 'sm-reporteObservacion',\r\n  templateUrl: './reporte-observacion.page.html',\r\n  styleUrls: ['./reporte-observacion.page.scss']\r\n})\r\nexport class ReporteObservacionPage implements OnInit {\r\n\r\n  @ViewChild('obserSyncComp') obserSyncComp: ObservacionSyncComponent;\r\n  nombreAuc: string;\r\n  tarjetaList: Tarjeta[];\r\n  segments = { 'tarjeta': true, 'observ': false };\r\n  obsCount = 0;\r\n  loading: boolean;\r\n  tarjetasCargadas: boolean;\r\n\r\n  constructor(\r\n    private sesionService: SesionService,\r\n    private offlineService: OfflineService,\r\n    public modalController: ModalController,\r\n    public router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.nombreAuc = this.sesionService.getConfigParam('NOMB_MOD_AUC');\r\n    this.cargarTarjetas();\r\n  }\r\n\r\n  cargarTarjetas() {\r\n    this.loading = true;\r\n    this.tarjetasCargadas = null;\r\n    this.offlineService.queryTarjetaObservacion()\r\n      .then(resp => {\r\n        this.tarjetaList = <Tarjeta[]>resp;\r\n        this.loading = false;\r\n        this.tarjetasCargadas = true;\r\n      })\r\n      .catch(err => {\r\n        this.loading = false;\r\n        this.tarjetasCargadas = false;\r\n      });\r\n  }\r\n\r\n  async onTarjetaSelect(tarjeta: Tarjeta) {\r\n    const modal = await this.modalController.create({\r\n      component: ObservacionFormComponent,\r\n      componentProps: { value: tarjeta },\r\n      cssClass: \"modal-fullscreen\"\r\n    });\r\n    modal.onDidDismiss().then(\r\n      resp => this.onModalDismiss(resp.data)\r\n    );\r\n    return await modal.present();\r\n  }\r\n\r\n  onModalDismiss(obser: Observacion) {\r\n    if (obser != null && obser.id == null) {\r\n      this.obsCount += 1;\r\n      this.obserSyncComp.adicionarObservacion(obser);\r\n    }\r\n  }\r\n  onEvent(event) {\r\n    this.obsCount = event.count;\r\n  }\r\n\r\n  navegar(url) {\r\n    this.router.navigate([url])\r\n  }\r\n\r\n  segmentChanged(event) {\r\n    for (var seg in this.segments) {\r\n      this.segments[seg] = false;\r\n      if (event.detail.value == seg)\r\n        this.segments[seg] = true;\r\n\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ServiceCRUD } from '../../com/services/service-crud.service'\r\nimport { Observacion } from '../entities/observacion';\r\n\r\n@Injectable()\r\nexport class ObservacionService extends ServiceCRUD<Observacion>{\r\n\r\n  getClassName(): string {\r\n    return \"ObservacionService\";\r\n  }\r\n}\r\n"],"sourceRoot":""}