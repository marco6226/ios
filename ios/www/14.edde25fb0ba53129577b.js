(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"6/md":function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),o=function(){return function(){}}(),e=u("pMnS"),a=u("oBZk"),i=u("ZZ/e"),r=u("Ip0R"),c=u("BwP4"),b=u("ZYjt"),s=u("t8sF"),p=u("wMzM"),f=u("cSmu"),h=u("ZYCi"),d=u("myAn"),m=u("u/+Y"),g=u("o8AA"),w=u("YK6p"),v=u("rQsM"),y=u("cyIF"),k=function(){function l(l,n,u,t,o,e,a,i,r,c){var b=this;this.offlineService=l,this.authService=n,this.msgService=u,this.file=t,this.fileOpener=o,this.loadingController=e,this.sessionService=a,this.router=i,this.manualService=r,this.market=c,this.authService.consultarUpdateDisponible().then(function(l){b.version=l.versionActual,b.versionDisponible=l.versionDisponible}),this.cargarManuales()}return l.prototype.cargarManuales=function(){var l=this;this.loading=!0,this.cargaExitosa=null,this.offlineService.queryManualesPorUsuario().then(function(n){l.manuales=n.data,l.loading=!1,l.cargaExitosa=!0}).catch(function(n){l.loading=!1,l.cargaExitosa=!1})},l.prototype.navegar=function(l){null==this.rutaVideo?this.router.navigate([l]):this.rutaVideo=null},l.prototype.abrir=function(l){var n=this;this.rutaVideo=null;var u=this.file.dataDirectory,t=l.id+"_"+l.codigo+"."+l.tipo,o=this.showLoading("Accediendo al manual..."),e=localStorage.getItem("man_"+l.id);l.codigo!=e?this.file.removeFile(u,l.id+"_"+e+"."+l.tipo).then(function(){n.descargarManual(l,u,t,o)}).catch(function(e){n.descargarManual(l,u,t,o)}):this.file.checkFile(u,t).then(function(l){return n.file.resolveDirectoryUrl(u)}).then(function(l){return n.file.getFile(l,t,null)}).then(function(u){return u.file(function(t){o.then(function(o){o.dismiss(),n.openFile(l,u,t.type)})})}).catch(function(e){n.descargarManual(l,u,t,o)})},l.prototype.descargarManual=function(l,n,u,t){var o=this;this.manualService.descargar(l).then(function(l){var t=new Blob([l]);return o.file.writeFile(n,u,t,{replace:!0})}).then(function(n){return n.file(function(u){t.then(function(t){t.dismiss(),localStorage.setItem("man_"+l.id,l.codigo),o.openFile(l,n,u.type)})})}).catch(function(l){t.then(function(l){return l.dismiss()})})},l.prototype.openFile=function(l,n,u){var t=this;"mp4"==l.tipo||"webm"==l.tipo?this.rutaVideo=window.Ionic.WebView.convertFileSrc(n.toURL()):this.fileOpener.open(n.toURL(),u).catch(function(l){return t.msgService.showMessage({tipoMensaje:"info",mensaje:"No ha sido posible visualizar el manual",detalle:"No existe una aplicacion para abrir "+n.name+"."})})},l.prototype.showLoading=function(l){return n=this,void 0,t=function(){var n;return function(l,n){var u,t,o,e,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function i(e){return function(i){return function(e){if(u)throw new TypeError("Generator is already executing.");for(;a;)try{if(u=1,t&&(o=2&e[0]?t.return:e[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,e[1])).done)return o;switch(t=0,o&&(e=[2&e[0],o.value]),e[0]){case 0:case 1:o=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,t=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!o||e[1]>o[0]&&e[1]<o[3])){a.label=e[1];break}if(6===e[0]&&a.label<o[1]){a.label=o[1],o=e;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(e);break}o[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(l,a)}catch(i){e=[6,i],t=0}finally{u=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,i])}}}(this,function(u){switch(u.label){case 0:return[4,this.loadingController.create({message:l,translucent:!0})];case 1:return[4,(n=u.sent()).present()];case 2:return u.sent(),[2,n]}})},new((u=void 0)||(u=Promise))(function(l,o){function e(l){try{i(t.next(l))}catch(n){o(n)}}function a(l){try{i(t.throw(l))}catch(n){o(n)}}function i(n){n.done?l(n.value):new u(function(l){l(n.value)}).then(e,a)}i((t=t.apply(n,[])).next())});var n,u,t},l.prototype.actualizar=function(){var l=localStorage.getItem("plataforma");"android"==l?this.market.open("co.sigess.app"):"ios"==l?this.market.open("1473016574"):alert("Plataforma no detectada")},l}(),I=t.nb({encapsulation:0,styles:[[".videoPlayer[_ngcontent-%COMP%]{width:100%;height:100%}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#333333AA}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:transparent;width:90%;height:calc(100% - 80px);margin:70px 5% 10px}"]],data:{}});function x(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"ion-spinner",[["class","main-spinner"],["color","primary"],["name","dots"]],null,null,null,a.Eb,a.M)),t.ob(2,49152,null,0,i.qb,[t.h,t.k],{color:[0,"color"],name:[1,"name"]},null)],function(l,n){l(n,2,0,"primary","dots")},null)}function M(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,3,"p",[["style","color:#888;padding:25px"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,[" No fue posible cargar los manuales. "])),(l()(),t.pb(3,0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.cargarManuales()&&t),t},null,null)),(l()(),t.Gb(-1,null,["Reintentar"]))],null,null)}function O(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,8,"ion-item",[["button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.abrir(l.context.$implicit)&&t),t},a.pb,a.u)),t.ob(1,49152,null,0,i.G,[t.h,t.k],{button:[0,"button"]},null),(l()(),t.pb(2,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,a.kb,a.s)),t.ob(3,49152,null,0,i.B,[t.h,t.k],{name:[0,"name"]},null),(l()(),t.pb(4,0,null,0,4,"div",[["style","width: 100%;font-size: 14px;"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Gb(6,null,["",""])),(l()(),t.pb(7,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Gb(8,null,["",""]))],function(l,n){l(n,1,0,""),l(n,3,0,"mp4"==n.context.$implicit.tipo||"webm"==n.context.$implicit.tipo?"videocam":"book")},function(l,n){l(n,6,0,n.context.$implicit.nombre),l(n,8,0,n.context.$implicit.descripcion)})}function S(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,3,"ion-list",[],null,null,null,a.rb,a.z)),t.ob(1,49152,null,0,i.N,[t.h,t.k],null,null),(l()(),t.gb(16777216,null,0,1,null,O)),t.ob(3,278528,null,0,r.k,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.manuales)},null)}function F(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,4,"div",[["class","modal"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,3,"div",[["class","content"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,2,"video",[["autoplay","autoplay"],["class","videoPlayer"],["controls","controls"],["controlsList","nodownload"],["preload","metadata"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null)),t.Cb(4,2)],null,function(l,n){var u=n.component,o=t.Hb(n,3,0,l(n,4,0,t.yb(n.parent,0),u.rutaVideo,"resourceUrl"));l(n,3,0,o)})}function A(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,8,"ion-item",[["button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.actualizar()&&t),t},a.pb,a.u)),t.ob(1,49152,null,0,i.G,[t.h,t.k],{button:[0,"button"]},null),(l()(),t.pb(2,0,null,0,1,"ion-icon",[["color","primary"],["name","arrow-round-up"],["slot","start"]],null,null,null,a.kb,a.s)),t.ob(3,49152,null,0,i.B,[t.h,t.k],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.pb(4,0,null,0,4,"div",[["style","width: 100%;font-size: 14px;"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,1,"p",[["style","float: left;color:#3ba2dc"]],null,null,null,null,null)),(l()(),t.Gb(6,null,["Versi\xf3n "," disponible"])),(l()(),t.pb(7,0,null,null,1,"p",[["style","float: right;color:#aaa;"]],null,null,null,null,null)),(l()(),t.Gb(8,null,["v",""]))],function(l,n){l(n,1,0,""),l(n,3,0,"primary","arrow-round-up")},function(l,n){var u=n.component;l(n,6,0,u.versionDisponible),l(n,8,0,u.version)})}function L(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,4,"ion-item",[],null,null,null,a.pb,a.u)),t.ob(1,49152,null,0,i.G,[t.h,t.k],null,null),(l()(),t.pb(2,0,null,0,2,"div",[["style","width: 100%;font-size: 14px;"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"p",[["style","float: right;color:#aaa;"]],null,null,null,null,null)),(l()(),t.Gb(4,null,["v",""]))],null,function(l,n){l(n,4,0,n.component.version)})}function G(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,5,"ion-footer",[["color","light"]],null,null,null,a.hb,a.p)),t.ob(1,49152,null,0,i.y,[t.h,t.k],null,null),(l()(),t.gb(16777216,null,0,1,null,A)),t.ob(3,16384,null,0,r.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,L)),t.ob(5,16384,null,0,r.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,u.versionDisponible!=u.version),l(n,5,0,u.versionDisponible==u.version)},null)}function C(l){return t.Ib(0,[t.Ab(0,c.a,[b.b]),(l()(),t.pb(1,0,null,null,16,"ion-header",[],null,null,null,a.jb,a.r)),t.ob(2,49152,null,0,i.A,[t.h,t.k],null,null),(l()(),t.pb(3,0,null,0,14,"ion-toolbar",[],null,null,null,a.Jb,a.R)),t.ob(4,49152,null,0,i.Ab,[t.h,t.k],null,null),(l()(),t.pb(5,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,a.V,a.d)),t.ob(6,49152,null,0,i.k,[t.h,t.k],null,null),(l()(),t.pb(7,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.navegar("/app/home")&&t),t},a.U,a.c)),t.ob(8,49152,null,0,i.j,[t.h,t.k],null,null),(l()(),t.pb(9,0,null,0,1,"ion-icon",[["name","arrow-back"],["slot","icon-only"]],null,null,null,a.kb,a.s)),t.ob(10,49152,null,0,i.B,[t.h,t.k],{name:[0,"name"]},null),(l()(),t.pb(11,0,null,0,2,"ion-title",[],null,null,null,a.Ib,a.Q)),t.ob(12,49152,null,0,i.yb,[t.h,t.k],null,null),(l()(),t.Gb(-1,0,[" MANUALES "])),(l()(),t.pb(14,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,a.V,a.d)),t.ob(15,49152,null,0,i.k,[t.h,t.k],null,null),(l()(),t.pb(16,0,null,0,1,"ion-menu-button",[],null,null,null,a.sb,a.B)),t.ob(17,49152,null,0,i.Q,[t.h,t.k],null,null),(l()(),t.pb(18,0,null,null,7,"ion-content",[],null,null,null,a.db,a.l)),t.ob(19,49152,null,0,i.t,[t.h,t.k],null,null),(l()(),t.gb(16777216,null,0,1,null,x)),t.ob(21,16384,null,0,r.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,M)),t.ob(23,16384,null,0,r.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,S)),t.ob(25,16384,null,0,r.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,F)),t.ob(27,16384,null,0,r.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,G)),t.ob(29,16384,null,0,r.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,10,0,"arrow-back"),l(n,21,0,1==u.loading),l(n,23,0,0==u.cargaExitosa),l(n,25,0,1==u.cargaExitosa),l(n,27,0,null!=u.rutaVideo),l(n,29,0,null==u.rutaVideo)},null)}function D(l){return t.Ib(0,[(l()(),t.pb(0,0,null,null,5,"sm-ayuda",[],null,null,null,C,I)),t.Db(512,null,s.a,s.a,[]),t.Db(512,null,p.a,p.a,[]),t.Db(512,null,f.a,f.a,[h.m,d.a,m.a]),t.Db(512,null,g.a,g.a,[]),t.ob(5,49152,null,0,k,[y.a,v.a,m.a,s.a,p.a,i.Eb,w.a,h.m,f.a,g.a],null,null)],null,null)}var V=t.lb("sm-ayuda",k,D,{},{},[]),E=u("sE5F"),P=u("gIcY"),j=u("t/Na"),U=u("Xnwc"),z=u("3U93"),N=u("qd6Z"),_=u("c1wO"),q=u("48VW"),B=u("O0/m"),J=u("HNUE"),Z=u("euZC"),R=u("T4+l"),Y=u("Ak17"),$=u("l9fy"),Q=u("fOfJ"),H=u("0KkJ");u.d(n,"AyudaPageModuleNgFactory",function(){return K});var K=t.mb(o,[],function(l){return t.vb([t.wb(512,t.j,t.bb,[[8,[e.a,V]],[3,t.j],t.x]),t.wb(4608,r.n,r.m,[t.u,[2,r.v]]),t.wb(4608,E.c,E.c,[]),t.wb(4608,E.g,E.b,[]),t.wb(5120,E.i,E.j,[]),t.wb(4608,E.h,E.h,[E.c,E.g,E.i]),t.wb(4608,E.f,E.a,[]),t.wb(5120,E.d,E.k,[E.h,E.f]),t.wb(4608,P.u,P.u,[]),t.wb(4608,i.b,i.b,[t.z,t.g]),t.wb(4608,i.Fb,i.Fb,[i.b,t.j,t.q,r.c]),t.wb(4608,i.Jb,i.Jb,[i.b,t.j,t.q,r.c]),t.wb(4608,P.d,P.d,[]),t.wb(4608,d.a,d.a,[j.c,w.a]),t.wb(4608,U.a,U.a,[h.m,d.a,m.a]),t.wb(4608,z.a,z.a,[h.m,d.a,m.a]),t.wb(4608,N.a,N.a,[h.m,d.a,m.a]),t.wb(4608,_.a,_.a,[h.m,d.a,m.a]),t.wb(4608,q.a,q.a,[h.m,d.a,m.a]),t.wb(4608,B.a,B.a,[h.m,d.a,m.a]),t.wb(4608,J.a,J.a,[h.m,d.a,m.a]),t.wb(4608,Z.a,Z.a,[h.m,d.a,m.a]),t.wb(4608,R.a,R.a,[h.m,d.a,m.a]),t.wb(4608,Y.a,Y.a,[h.m,d.a,m.a]),t.wb(4608,$.a,$.a,[h.m,N.a,d.a,m.a]),t.wb(4608,Q.a,Q.a,[]),t.wb(1073742336,r.b,r.b,[]),t.wb(1073742336,E.e,E.e,[]),t.wb(1073742336,P.s,P.s,[]),t.wb(1073742336,P.i,P.i,[]),t.wb(1073742336,i.Cb,i.Cb,[]),t.wb(1073742336,P.q,P.q,[]),t.wb(1073742336,H.a,H.a,[]),t.wb(1073742336,h.n,h.n,[[2,h.t],[2,h.m]]),t.wb(1073742336,o,o,[]),t.wb(1024,h.k,function(){return[[{path:"",component:k}]]},[])])})}}]);