{"version":3,"sources":["webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.module.ts","webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.page.html","webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.page.scss","webpack:///./src/app/modulos/sec/pages/consulta-tareas/consulta-tareas.page.ts","webpack:///./src/app/modulos/sec/services/tarea.service.ts"],"names":[],"mappings":"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","file":"modulos-sec-pages-consulta-tareas-consulta-tareas-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ComunModule } from '../../../com/comun.module'\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { ConsultaTareasPage } from './consulta-tareas.page';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsultaTareasPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [ComunModule],\r\n  providers: [],\r\n  entryComponents: [],\r\n  declarations: [\r\n    ConsultaTareasPage\r\n  ]\r\n})\r\nexport class ConsultaTareasPageModule {\r\n\r\n}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"navegar('/app/sec/secInicio')\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Actividades asignadas</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div>\\r\\n    <ion-spinner slot=\\\"start\\\" class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\" *ngIf=\\\"loading == true\\\"></ion-spinner>\\r\\n  </div>\\r\\n\\r\\n  <ion-card *ngFor=\\\"let tarea of tareasList; let i = index\\\">\\r\\n    <ion-card-header>\\r\\n      <ion-card-subtitle>\\r\\n        <div class=\\\"cabecera\\\">\\r\\n          <ion-badge [ngClass]=\\\"{\\r\\n            'nueva':tarea.estado == 'NUEVO', \\r\\n            'realizada':tarea.estado == 'REALIZADA', \\r\\n            'finalizada':tarea.estado == 'FINALIZADA'\\r\\n          }\\\">{{tarea.estado}}</ion-badge>\\r\\n        </div>\\r\\n\\r\\n        <p class=\\\"tarea-nombre\\\">\\r\\n          {{tarea.nombre}}\\r\\n        </p>\\r\\n      </ion-card-subtitle>\\r\\n    </ion-card-header>\\r\\n\\r\\n    <ion-card-content>\\r\\n      <strong>Tipo de acción:</strong>\\r\\n      <p>{{tarea.tipoAccion}}</p>\\r\\n      <strong>Descripción:</strong>\\r\\n      <p>{{tarea.descripcion}}</p>\\r\\n      <strong>Fecha proyectada:</strong>\\r\\n      <p>{{tarea.fechaProyectada | date:'dd-MMM-yyyy'}}</p>\\r\\n      <strong>{{tarea.areaResponsable?.tipoArea.nombre}}:</strong>\\r\\n      <p>{{tarea.areaResponsable?.nombre}}</p>\\r\\n      <strong *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">Usuario realiza:</strong>\\r\\n      <p *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">{{tarea.usuarioRealiza.email}} - {{tarea.fechaRealizacion | date:'dd/MMM/yyyy'}}</p>\\r\\n      <strong *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">Observaciones usuario realiza:</strong>\\r\\n      <p *ngIf=\\\"tarea.usuarioRealiza?.email != null\\\">{{tarea.observacionesRealizacion}}</p>\\r\\n      <strong *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">Usuario verifica:</strong>\\r\\n      <p *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">{{tarea.usuarioVerifica.email}} - {{tarea.fechaVerificacion | date:'dd/MMM/yyyy'}}</p>\\r\\n      <strong *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">Observaciones usuario verifica:</strong>\\r\\n      <p *ngIf=\\\"tarea.usuarioVerifica?.email != null\\\">{{tarea.observacionesVerificacion}}</p>\\r\\n\\r\\n      <ion-item *ngIf=\\\"tarea.estado == 'NUEVO' || tarea.estado == 'REALIZADA'\\\">\\r\\n        <ion-label *ngIf=\\\"tarea.estado == 'NUEVO'\\\" position=\\\"stacked\\\">Reportar cumplimiento</ion-label>\\r\\n        <ion-label *ngIf=\\\"tarea.estado == 'REALIZADA'\\\" position=\\\"stacked\\\">Reportar verificación</ion-label>\\r\\n\\r\\n        <ion-textarea style=\\\"flex: 50%;\\\" *ngIf=\\\"tarea.estado == 'NUEVO' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\r\\n          [(ngModel)]=\\\"tarea.observacionesRealizacion\\\" placeholder=\\\"Comentarios\\\" maxlength=\\\"510\\\"></ion-textarea>\\r\\n\\r\\n        <ion-textarea style=\\\"flex: 50%;\\\" *ngIf=\\\"tarea.estado == 'REALIZADA' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\r\\n          [(ngModel)]=\\\"tarea.observacionesVerificacion\\\" placeholder=\\\"Comentarios\\\" maxlength=\\\"510\\\"></ion-textarea>\\r\\n\\r\\n        <div>\\r\\n          <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" *ngIf=\\\"tarea.estado == 'NUEVO' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\r\\n            (click)=\\\"abrirDlg(tarea, i, true)\\\">\\r\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"checkmark-circle\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n\\r\\n          <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" *ngIf=\\\"tarea.estado == 'REALIZADA' && (tarea['loading'] == null || tarea['loading'] == false)\\\"\\r\\n            (click)=\\\"abrirDlg(tarea, i, false)\\\">\\r\\n            <ion-icon name=\\\"thumbs-up\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n\\r\\n          <ion-spinner slot=\\\"end\\\" class=\\\"main-spinner\\\" name=\\\"dots\\\" color=\\\"primary\\\" *ngIf=\\\"tarea['loading'] == true\\\"></ion-spinner>\\r\\n        </div>\\r\\n      </ion-item>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n</ion-content>\"","module.exports = \".cabecera {\\n  display: flex;\\n  align-items: center; }\\n\\n.realizada {\\n  background-color: #ffaa00; }\\n\\n.nueva {\\n  background-color: #ff0000; }\\n\\n.finalizada {\\n  background-color: #00AA00; }\\n\\n.tarea-nombre {\\n  color: #333; }\\n\\nstrong {\\n  color: #333; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxvcy9zZWMvcGFnZXMvY29uc3VsdGEtdGFyZWFzL0M6XFxVc2Vyc1xcREVMTFxcRG93bmxvYWRzXFxvcmlnaW5hbFxcYXBwbGVvbmFyZG9cXGFwcC9zcmNcXGFwcFxcbW9kdWxvc1xcc2VjXFxwYWdlc1xcY29uc3VsdGEtdGFyZWFzXFxjb25zdWx0YS10YXJlYXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBYTtFQUNiLG1CQUFtQixFQUFBOztBQUV2QjtFQUNJLHlCQUF5QixFQUFBOztBQUU3QjtFQUNJLHlCQUF5QixFQUFBOztBQUU3QjtFQUNJLHlCQUF5QixFQUFBOztBQUU3QjtFQUNJLFdBQVcsRUFBQTs7QUFHZjtFQUNJLFdBQVUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsb3Mvc2VjL3BhZ2VzL2NvbnN1bHRhLXRhcmVhcy9jb25zdWx0YS10YXJlYXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhYmVjZXJhe1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLnJlYWxpemFkYXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmFhMDA7XHJcbn1cclxuLm51ZXZhe1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDtcclxufVxyXG4uZmluYWxpemFkYXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMEFBMDA7XHJcbn1cclxuLnRhcmVhLW5vbWJyZXtcclxuICAgIGNvbG9yOiAjMzMzO1xyXG59XHJcblxyXG5zdHJvbmd7XHJcbiAgICBjb2xvcjojMzMzO1xyXG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { SesionService } from '../../../com/services/sesion.service';\r\nimport { FilterQuery } from '../../../com/entities/filter-query';\r\nimport { TareaService } from '../../services/tarea.service';\r\nimport { Tarea } from '../../entities/tarea';\r\nimport { Criteria } from '../../../com/entities/filter';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { MensajeUsuarioService } from '../../../com/services/mensaje-usuario.service';\r\nimport { ReporteObservacionPage } from '../../../auc/pages/reporte-observacion/reporte-observacion.page';\r\n\r\n@Component({\r\n  selector: 'sm-consultaTareas',\r\n  templateUrl: './consulta-tareas.page.html',\r\n  styleUrls: ['./consulta-tareas.page.scss'],\r\n  providers: [TareaService]\r\n})\r\nexport class ConsultaTareasPage implements OnInit {\r\n\r\n  loading: boolean = true;\r\n  tareasList: Tarea[];\r\n\r\n  constructor(\r\n    private msgService: MensajeUsuarioService,\r\n    private alertController: AlertController,\r\n    private tareaService: TareaService,\r\n    private sesionService: SesionService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    let areas: string = this.sesionService.getPermisosMap()['SEC_GET_TAR'].areas;\r\n    let fq = new FilterQuery();\r\n    fq.fieldList = [\r\n      'id', 'nombre', 'descripcion', 'observacionesRealizacion', 'tipoAccion', 'usuarioRealiza_id',\r\n      'estado', 'fechaProyectada', 'fechaRealizacion', 'usuarioRealiza_email', 'areaResponsable_id',\r\n      'areaResponsable_nombre', 'areaResponsable_tipoArea_nombre'\r\n    ]\r\n    fq.filterList = [\r\n      { field: 'areaResponsable.id', value1: areas, criteria: Criteria.CONTAINS },\r\n      { field: 'estado', value1: 'FINALIZADA', criteria: Criteria.NOT_EQUALS }\r\n    ];\r\n\r\n    this.tareaService.findByFilter(fq)\r\n      .then(resp => {\r\n        this.tareasList = [];\r\n        (resp['data']).forEach(tarea => {\r\n          let obj = FilterQuery.dtoToObject(tarea);\r\n          this.tareasList.push(obj);\r\n        });\r\n        this.loading = false;\r\n      })\r\n      .catch(err => {\r\n        this.loading = false;\r\n      });\r\n  }\r\n\r\n  navegar(url) {\r\n    this.router.navigate([url]);\r\n  }\r\n\r\n  abrirDlg(tarea: Tarea, idx: number, repCump: boolean) {\r\n    // this.confirmarTarea(tarea, idx, repCump);\r\n    this.reportar(tarea, repCump, idx);\r\n  }\r\n\r\n  // async confirmarTarea(tarea: Tarea, idx: number, repCump: boolean) {\r\n  //   let accion = repCump ? 'cumplimiento' : 'verificación';\r\n  //   let alert = await this.alertController.create({\r\n  //     subHeader: 'Reporte de ' + accion + ':',\r\n  //     message: tarea.nombre,\r\n  //     inputs: [\r\n  //       { name: 'descripcion', type: 'text', placeholder: 'Observaciones de ' + accion }\r\n  //     ],\r\n  //     buttons: [\r\n  //       {\r\n  //         text: 'Reportar',\r\n  //         handler: data => this.reportar(tarea, repCump, idx, data.descripcion)\r\n  //       },\r\n  //       {\r\n  //         text: 'Cancel',\r\n  //         role: 'cancel',\r\n  //         cssClass: 'secondary',\r\n  //         handler: () => {\r\n  //           console.log('Confirm Cancel');\r\n  //         }\r\n  //       }\r\n  //     ]\r\n  //   }).;\r\n  //   await alert.present();\r\n  // }\r\n\r\n  reportar(tarea: Tarea, repCump: boolean, idx: number): any {\r\n    tarea['loading'] = true;\r\n    if (repCump == true) {\r\n      this.tareaService.reportarCumplimiento(tarea)\r\n        .then((resp: Tarea) => {\r\n          this.tareasList[idx] = resp;\r\n          this.msgService.showMessage({\r\n            mensaje: 'Reporte realizado',\r\n            detalle: 'El cumplimiento de la tarea fue reportado correctamente',\r\n            tipoMensaje: 'success'\r\n          });\r\n          tarea['loading'] = false;\r\n        })\r\n        .catch(err => {\r\n          tarea['loading'] = false;\r\n        });\r\n    } else {\r\n      this.tareaService.reportarVerificacion(tarea)\r\n        .then((resp: Tarea) => {\r\n          this.tareasList[idx] = resp;\r\n          this.msgService.showMessage({\r\n            mensaje: 'Reporte realizado',\r\n            detalle: 'La verificación de la tarea fue reportada correctamente',\r\n            tipoMensaje: 'success'\r\n          });\r\n          tarea['loading'] = false;\r\n        })\r\n        .catch(err => {\r\n          tarea['loading'] = false;\r\n        });;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ServiceCRUD } from '../../com/services/service-crud.service';\r\nimport { Tarea } from '../entities/tarea';\r\nimport { timeout } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class TareaService extends ServiceCRUD<Tarea>{\r\n\r\n  reportarCumplimiento(tarea: Tarea) {\r\n    let body = JSON.stringify(tarea);\r\n    return new Promise((resolve, reject) => {\r\n      this.httpInt.put(this.end_point + \"reportarCumplimiento\", body)\r\n        .pipe(timeout(this.timeout))\r\n        .subscribe(\r\n          res => resolve(res),\r\n          err => {\r\n            reject(err);\r\n            this.manageError(err);\r\n          })\r\n    });\r\n  }\r\n\r\n  reportarVerificacion(tarea: Tarea) {\r\n    let body = JSON.stringify(tarea);\r\n    return new Promise((resolve, reject) => {\r\n      this.httpInt.put(this.end_point + \"reportarVerificacion\", body)\r\n        .pipe(timeout(this.timeout))\r\n        .subscribe(\r\n          res => resolve(res),\r\n          err => {\r\n            reject(err);\r\n            this.manageError(err);\r\n          }\r\n        )\r\n    });\r\n  }\r\n\r\n  findByUsuario(usuarioId: string) {\r\n    return new Promise((resolve, reject) => {\r\n      this.httpInt.get(this.end_point + 'usuario/' + usuarioId)\r\n        .subscribe(\r\n          res => resolve(res),\r\n          err => {\r\n            this.manageError(err);\r\n            reject(err);\r\n          }\r\n        )\r\n    });\r\n  }\r\n\r\n  getClassName(): string {\r\n    return \"TareaService\";\r\n  }\r\n\r\n}"],"sourceRoot":""}